<% if collection.any? %>
  <ul class="entity-links post-taxon-tree">
    <% collection.each do |taxon_id, item| %>
      <li>
        <% element_id = "post_taxon_#{taxon_id}" %>
        <%=
          check_box_tag(
              'post_taxa[]',
              taxon_id,
              post_group.taxon?(item[:item]),
              id: element_id,
              data: {
                  url: taxon_admin_post_group_path(id: post_group.id, taxon_id: taxon_id)
              }
          )
        %>
        <%= label_tag(element_id, item[:item].name) %>
        (<%= t(:post_count, count: item[:item].posts_count) %>)
        <% taxa.delete(taxon_id) %>
        <%=
          render(
              partial: 'admin/post_groups/entity/taxa',
              locals: {
                  collection: taxa.select { |_, i| i[:parent_id] == taxon_id },
                  taxa: taxa,
                  post_group: post_group
              }
          )
        %>
      </li>
    <% end %>
  </ul>
<% end %>
